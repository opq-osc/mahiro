# 常见问题

### Mahiro 安装缓慢 / 无法安装成功

#### 使用加速源

Mahiro 第一次安装时，会自动下载与 `sqlite` 相关的依赖，请预设好 npm 加速下载源：

```bash
  npm config set registry https://registry.npmmirror.com/

  # sqlite 安装国内网络必备
  echo "better_sqlite3_binary_host=https://registry.npmmirror.com/-/binary/better-sqlite3" >> ~/.npmrc
  echo "better_sqlite3_binary_host_mirror=https://registry.npmmirror.com/-/binary/better-sqlite3" >> ~/.npmrc
  echo "node_sqlite3_binary_host=https://registry.npmmirror.com/-/binary/sqlite3" >> ~/.npmrc
  echo "node_sqlite3_binary_host_mirror=https://registry.npmmirror.com/-/binary/sqlite3" >> ~/.npmrc
```

#### 确保内存大小

编译 sqlite 需内存大于 `1G` ，若你在树莓派等小内存设备上运行，可先添加内存，确保能通过编译，编译结果会缓存，之后使用就不需要高内存了。 

### 插件运行报错后进程退出

Mahiro 不会自动捕获插件运行过程中的报错，如果你认为插件运行可能是不安全的，请自行 `try catch` 捕获。

因为每一次错误操作数据库，错误发送消息是危险的，这是 Mahiro 出于安全性第一的考量。

### Base64 过长导致发送图片失败

若 `base64` 字符串过长，会导致图片发送失败，请先写为文件后，使用文件绝对路径发送。
