# 多账号

在一个 Mahiro 服务实例下，即可同时管理多个账号。

默认情况，一个 OPQ 对应一个 Token ，只绑定一个账号，如需使用多账号，有几种类型。

## 种类

### 多机多号

指多个 OPQ 实例，每个实例都登录一个账号，每个账号都有对应的一个 Token ，这是最常见的场景。

启动配置：

```ts
Mahiro.start({
  qq: 12345678,
  advancedOptions: {
    sideQQs: [
      {
        // 此时另一个 OPQ 实例运行在本地 `8085` 上
        port: 8085,
        qq: 987654321,

        // 支持配置
        // host
        // port
        // ws
      },
      // ...
    ],
  },
})
```

### 一机多号

指一个 OPQ 实例，此时需要具有多账号权限，此场景较少出现。

启动配置：

```ts
Mahiro.start({
  qq: 12345678,
  advancedOptions: {
    sideQQs: [
      987654321,
      // ...
    ],
  },
})
```

### 混合机号

指有多个 OPQ 实例，但主实例也具备 `一机多号` ，一般不存在此场景。

```ts
Mahiro.start({
  qq: 12345678,
  advancedOptions: {
    sideQQs: [
      // 主 OPQ 一机多号
      111111111, 222222222,
      // 其他 OPQ 实例
      {
        port: 8085,
        qq: 333333333
      },
      {
        ws: 'ws://123.0.0.1:8086/ws',
        qq: 444444444
      }
      // ...
    ],
  },
})
```

## 多账号信息

1. 在消息上下文中，你可以通过某个字段判断得出为哪个账号。

2. 多账号默认互相忽略彼此的消息，一般情况下，一个群组只需开启一个账号。
